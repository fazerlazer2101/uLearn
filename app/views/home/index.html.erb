<h1>Courses U can Learn!</h1>
<div>
<%= session[:cart] %>
  <% @courses.each do |course| %>
  <div>
    <a href="<%= course_path(course) %>">
      <%= course.course_title %>
    </a>
    <!---Changes the function of the add to cart--->
    <%if user_signed_in?%>
    <!---Allows user to add items to cart if logged in --->
      <% if !session[:cart].nil? &&session[:cart].include?(course.id) %>
        <%= form_with url:"cart/#{course.id}/delete", method: :post do%>
          <%= button_tag "Remove From Cart" %>
        <%end%>
      <%else%>
        <%= form_with url:"cart/#{course.id}/update", method: :post do%>
        <%= button_tag "Add to cart" %>
        <%end%>
      <%end%>
    <%else%>
    <!---If the user is not signed in the Add to cart redirects to a register/login --->
      <%= form_with url:new_user_session_path, method: :get do%>
          <%= button_tag "Add Item to cart" %>
        <%end%>
    <%end%>
  <%end%>

</div>
